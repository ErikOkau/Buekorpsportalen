<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin page</title>
    <link rel="stylesheet" href="../css/nav.css">
</head>
<body>
    <nav>
        <ul class="animated-nav">
            <li>
                <a href="#" class="nav-link">Medlemstabell</a>
            </li>
            <li>
                <a href="#" class="nav-link">Peletonstabell</a>
            </li>
            <li>
                <a href="#" class="nav-link">Kompanitabell</a>
            </li>
            <li>
                <a href="#" class="nav-link">Foreldretabell</a>
            </li>
            <li>
                <a href="/logout" id="logoutBtn" class="nav-link">Sign out</a>
            </li>
            <li>
                <a href="./login/index.html" class="nav-link login-link">Login</a>
            </li>
        </ul>
    </nav>

    <script>
         document.getElementById("logoutBtn").addEventListener("click", function(event) {
            event.preventDefault(); // Prevent the default link behavior (redirect)

            fetch('/logout', { method: 'GET' })
            .then(response => {
                if (response.redirected) {
                    window.location.href = response.url; // Redirect to login page after logout
                }
            })
            .catch(error => {
                console.error('Error during logout:', error);
            });
        });
    </script>
</body>
</html>